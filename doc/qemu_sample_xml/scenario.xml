<?xml version="1.0" encoding="utf-8"?>
<acrn-config>
  <hv>
    <BUILD_TYPE>debug</BUILD_TYPE>
    <FEATURES>
      <RELOC_ENABLED>y</RELOC_ENABLED>
      <SCHEDULER>SCHED_BVT</SCHEDULER>
      <MULTIBOOT2_ENABLED>y</MULTIBOOT2_ENABLED>
      <SPLIT_LOCK_DETECTION_ENABLED>n</SPLIT_LOCK_DETECTION_ENABLED>
      <UC_LOCK_DETECTION_ENABLED>y</UC_LOCK_DETECTION_ENABLED>
      <SECURITY_VM_FIXUP>n</SECURITY_VM_FIXUP>
      <HYPERV_ENABLED>y</HYPERV_ENABLED>
      <ACPI_PARSE_ENABLED>y</ACPI_PARSE_ENABLED>
      <L1D_VMENTRY_ENABLED>n</L1D_VMENTRY_ENABLED>
      <MCE_ON_PSC_ENABLED>y</MCE_ON_PSC_ENABLED>
      <CPU_PERFORMANCE_POLICY>Performance</CPU_PERFORMANCE_POLICY>
      <RDT>
        <RDT_ENABLED>n</RDT_ENABLED>
        <CDP_ENABLED>n</CDP_ENABLED>
        <VCAT_ENABLED>n</VCAT_ENABLED>
      </RDT>
      <IOMMU_ENFORCE_SNP>n</IOMMU_ENFORCE_SNP>
      <KEEP_IRQ_DISABLED>n</KEEP_IRQ_DISABLED>
    </FEATURES>
    <DEBUG_OPTIONS>
      <SERIAL_CONSOLE>/dev/ttyS0</SERIAL_CONSOLE>
      <MEM_LOGLEVEL>5</MEM_LOGLEVEL>
      <NPK_LOGLEVEL>5</NPK_LOGLEVEL>
      <CONSOLE_LOGLEVEL>5</CONSOLE_LOGLEVEL>
    </DEBUG_OPTIONS>
    <MEMORY>
      <STACK_SIZE>0x2000</STACK_SIZE>
      <HV_RAM_START>0x11000000</HV_RAM_START>
    </MEMORY>
    <CAPACITIES>
      <MAX_PCI_DEV_NUM>96</MAX_PCI_DEV_NUM>
      <MAX_PT_IRQ_ENTRIES>192</MAX_PT_IRQ_ENTRIES>
      <MAX_MSIX_TABLE_NUM>64</MAX_MSIX_TABLE_NUM>
      <MAX_EMULATED_MMIO>16</MAX_EMULATED_MMIO>
      <MAX_VM_NUM>16</MAX_VM_NUM>
      <MAX_IOAPIC_NUM>1</MAX_IOAPIC_NUM>
      <MAX_IOAPIC_LINES>120</MAX_IOAPIC_LINES>
      <MAX_PCI_BUS_NUM>0</MAX_PCI_BUS_NUM>
    </CAPACITIES>
    <MISC_CFG>
      <GPU_SBDF>0x00000010</GPU_SBDF>
    </MISC_CFG>
  </hv>
  <vm id="0">
    <vm_type>STANDARD_VM</vm_type>
    <console_vuart>COM Port 1</console_vuart>
    <memory>
      <size>1024</size>
    </memory>
    <cpu_affinity>
      <pcpu>
        <pcpu_id>3</pcpu_id>
        <real_time_vcpu>n</real_time_vcpu>
      </pcpu>
    </cpu_affinity>
    <os_config>
      <kern_type>KERNEL_RAWIMAGE</kern_type>
      <kern_mod>zephyr</kern_mod>
      <kern_load_addr>0x100000</kern_load_addr>
      <kern_entry_addr>0x100000</kern_entry_addr>
      <bootargs>reboot=acpi</bootargs>
    </os_config>
    <mmio_resources>
      <TPM2>n</TPM2>
      <p2sb>n</p2sb>
    </mmio_resources>
    <lapic_passthrough>n</lapic_passthrough>
    <io_completion_polling>n</io_completion_polling>
    <virtual_cat_support>n</virtual_cat_support>
    <virtual_cat_number>0</virtual_cat_number>
    <epc_section>
      <base>0</base>
      <size>0</size>
    </epc_section>
    <load_order>PRE_LAUNCHED_VM</load_order>
    <name>VM0</name>
    <own_pcpu>n</own_pcpu>
    <priority>PRIO_LOW</priority>
    <companion_vmid>65535</companion_vmid>
  </vm>  
  <vm id="1">
    <vm_type>STANDARD_VM</vm_type>
    <console_vuart>COM Port 1</console_vuart>
    <memory>
      <size>1024</size>
    </memory>
    <cpu_affinity>
      <pcpu>
        <pcpu_id>0</pcpu_id>
        <real_time_vcpu>n</real_time_vcpu>
      </pcpu>
      <pcpu>
        <pcpu_id>1</pcpu_id>
        <real_time_vcpu>n</real_time_vcpu>
      </pcpu>
      <pcpu>
        <pcpu_id>2</pcpu_id>
        <real_time_vcpu>n</real_time_vcpu>
      </pcpu>
    </cpu_affinity>
    <os_config>
      <kern_type>KERNEL_BZIMAGE</kern_type>
      <kern_mod>linux</kern_mod>
      <bootargs>reboot=acpi</bootargs>
    </os_config>
    <mmio_resources>
      <TPM2>n</TPM2>
      <p2sb>n</p2sb>
    </mmio_resources>
    <lapic_passthrough>n</lapic_passthrough>
    <io_completion_polling>n</io_completion_polling>
    <virtual_cat_support>n</virtual_cat_support>
    <virtual_cat_number>0</virtual_cat_number>
    <epc_section>
      <base>0</base>
      <size>0</size>
    </epc_section>
    <load_order>PRE_LAUNCHED_VM</load_order>
    <name>VM1</name>
    <own_pcpu>n</own_pcpu>
    <priority>PRIO_LOW</priority>
    <companion_vmid>65535</companion_vmid>
  </vm>
</acrn-config>
